# Отчёт по итоговому заданию

**Курс:** Базы данных
**Вариант:** 1
**СУБД:** MySQL 8.0
**Среда выполнения:** Ubuntu (CLI, mysql)

---

## 1. Цель работы

Целью работы является демонстрация навыков проектирования реляционной базы данных и работы с СУБД MySQL, включая:

- логичное проектирование структуры базы данных;
- нормализацию данных;
- задание первичных и внешних ключей;
- обеспечение целостности данных и предотвращение дублирования;
- реализацию SQL-запросов для извлечения и модификации данных.

---

## 2. Общая схема базы данных

База данных предназначена для учёта:

- студентов;
- преподавателей;
- учебных предметов;
- фактов преподавания предметов;
- записей студентов на курсы;
- выставленных оценок.

Для корректного отражения учебного процесса используются промежуточные таблицы, позволяющие учитывать семестр, учебную группу и преподавателя для каждого предмета.

---

## 3. Описание таблиц

### 3.1 `study_groups`

**Назначение:** учебные группы студентов.

**Основные поля:**
- `group_id` — первичный ключ;
- `group_code` — код группы (уникальный);
- `admission_year` — год набора.

---

### 3.2 `students`

**Назначение:** хранение информации о студентах.

**Основные поля:**
- `student_id` — первичный ключ;
- `student_number` — уникальный идентификатор студента;
- `last_name`, `first_name` — фамилия и имя;
- `birth_date` — дата рождения;
- `email` — контактный адрес;
- `group_id` — внешний ключ на таблицу `study_groups`.

Предусмотрена защита от дублирования студентов по полю `student_number`.

---

### 3.3 `teachers`

**Назначение:** хранение информации о преподавателях.

**Основные поля:**
- `teacher_id` — первичный ключ;
- `teacher_number` — уникальный идентификатор преподавателя;
- `last_name`, `first_name` — фамилия и имя;
- `email`, `phone` — контактные данные.

---

### 3.4 `subjects`

**Назначение:** справочник учебных предметов.

**Основные поля:**
- `subject_id` — первичный ключ;
- `subject_name` — название предмета (уникальное);
- `category` — категория предмета (`MATH`, `HUMANITIES`, `OTHER`).

---

### 3.5 `terms`

**Назначение:** учебные семестры.

**Основные поля:**
- `term_id` — первичный ключ;
- `academic_year` — учебный год;
- `semester_no` — номер семестра;
- `start_date`, `end_date` — даты начала и окончания семестра.

---

### 3.6 `course_offerings`

**Назначение:** факт преподавания предмета конкретной группе в конкретном семестре.

**Основные поля:**
- `offering_id` — первичный ключ;
- `subject_id` — внешний ключ на таблицу `subjects`;
- `teacher_id` — внешний ключ на таблицу `teachers`;
- `group_id` — внешний ключ на таблицу `study_groups`;
- `term_id` — внешний ключ на таблицу `terms`.

Данная таблица отражает реальные зависимости учебного процесса.

---

### 3.7 `enrollments`

**Назначение:** записи студентов на конкретные курсы.

**Основные поля:**
- `enrollment_id` — первичный ключ;
- `student_id` — внешний ключ на таблицу `students`;
- `offering_id` — внешний ключ на таблицу `course_offerings`;
- `enrolled_at` — дата записи.

Предусмотрено ограничение, предотвращающее повторную запись студента на один и тот же курс.

---

### 3.8 `grades`

**Назначение:** хранение оценок студентов.

**Основные поля:**
- `grade_id` — первичный ключ;
- `enrollment_id` — внешний ключ на таблицу `enrollments`;
- `grade_value` — значение оценки (от 1 до 5);
- `grade_date` — дата выставления оценки.

Используется ограничение `CHECK` для контроля допустимого диапазона значений оценок.

---

## 4. Обеспечение целостности данных

В базе данных реализованы следующие механизмы обеспечения целостности:

- первичные и внешние ключи для поддержания ссылочной целостности;
- ограничение `CHECK` для значений оценок (диапазон от 1 до 5);
- уникальные ограничения для предотвращения дублирования студентов и учебных предметов;
- запрет удаления предметов, участвующих в учебном процессе, посредством ограничений внешних ключей.

---

## 5. Реализованные запросы

В рамках задания реализованы SQL-запросы, позволяющие:

- получать список студентов по заданному предмету;
- получать список предметов, преподаваемых конкретным преподавателем;
- вычислять средний балл студента по всем предметам;
- строить рейтинг преподавателей по среднему баллу студентов;
- определять преподавателей, читавших более трёх предметов за последний учебный год;
- находить студентов с высоким средним баллом по математическим и низким по гуманитарным предметам;
- определять предметы с наибольшим количеством двоек в текущем семестре;
- выявлять студентов-отличников и преподавателей, которые вели соответствующие предметы;
- анализировать изменение среднего балла студента по годам обучения;
- сравнивать учебные группы по среднему баллу по одинаковым предметам.

Также реализованы операции вставки, обновления и удаления данных (CRUD) с учётом ограничений целостности.

---

## 6. Выводы

В ходе выполнения задания была спроектирована и реализована реляционная база данных, корректно отражающая учебный процесс.

Были применены принципы нормализации, заданы первичные и внешние ключи, реализованы ограничения целостности, а также разработан набор аналитических и модифицирующих SQL-запросов.

Поставленные цели задания достигнуты в полном объёме.
